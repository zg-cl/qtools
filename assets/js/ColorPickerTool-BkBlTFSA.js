import{_ as T,r,q as h,x as e,y as p,A as V,D as w,u as y,R as k,F as X,z as I,T as S,s as f,I as b,B as E,E as _}from"./index-D4dRBtAy.js";const F={class:"tool-container"},H={class:"main-content"},N={class:"upload-section"},Y={class:"action-btn"},A={key:0,class:"result-display"},W={class:"color-info"},z={class:"color-values"},P={class:"color-value"},U={class:"value"},j={class:"color-value"},q={class:"value"},G={key:0,class:"error-message"},L={__name:"ColorPickerTool",setup(O){const m=r(null),u=r(null),v=r(""),x=r(""),g=r(""),C=r(!1),B=()=>{m.value.click()},D=s=>{const t=s.target.files[0];if(!t)return;C.value=!0;const o=new FileReader;o.onload=n=>{M(n.target.result)},o.readAsDataURL(t)},M=s=>{const t=new Image;t.crossOrigin="Anonymous",t.onload=()=>{const o=u.value,n=o.getContext("2d"),i=t.width,d=t.height,l=o.parentElement.clientWidth,c=l/i,a=d*c;o.width=l,o.height=a,n.drawImage(t,0,0,l,a)},t.onerror=()=>{g.value="图片加载失败，请重试"},t.src=s},R=s=>{const t=u.value,o=t.getBoundingClientRect(),n=t.width/o.width,i=t.height/o.height,d=Math.floor((s.clientX-o.left)*n),l=Math.floor((s.clientY-o.top)*i);try{const a=t.getContext("2d").getImageData(d,l,1,1).data;t.style.cursor="crosshair"}catch(c){console.error("获取像素数据失败:",c)}},$=s=>{const t=u.value,o=t.getBoundingClientRect(),n=t.width/o.width,i=t.height/o.height,d=Math.floor((s.clientX-o.left)*n),l=Math.floor((s.clientY-o.top)*i);try{const a=t.getContext("2d").getImageData(d,l,1,1).data;v.value=`#${a[0].toString(16).padStart(2,"0")}${a[1].toString(16).padStart(2,"0")}${a[2].toString(16).padStart(2,"0")}`,x.value=`rgb(${a[0]}, ${a[1]}, ${a[2]})`}catch(c){console.error("获取像素数据失败:",c),g.value="无法获取该位置的颜色值"}};return(s,t)=>(f(),h("div",F,[t[5]||(t[5]=e("div",{class:"tool-header"},[e("h2",null,"图片取色工具"),e("p",{class:"tool-desc"},"上传图片并点击任意位置获取颜色值")],-1)),e("div",H,[e("div",N,[e("input",{type:"file",ref_key:"fileInput",ref:m,accept:"image/*",onChange:D,class:"file-input"},null,544),e("div",{class:"upload-area",onClick:B},[e("button",Y,[p(y(k),{icon:"mdi:upload",class:"btn-icon"}),t[0]||(t[0]=w(" 选择图片 "))]),t[1]||(t[1]=e("p",{class:"upload-tip"},"支持 jpg、png 等常见图片格式",-1))]),V(e("canvas",{ref_key:"colorCanvas",ref:u,onMousemove:R,onClick:$,class:"preview-canvas"},null,544),[[X,C.value]])]),p(S,{name:"fade"},{default:I(()=>[v.value?(f(),h("div",A,[e("div",W,[e("div",{class:"color-preview",style:E({backgroundColor:v.value})},t[2]||(t[2]=[e("div",{class:"color-preview-inner"},null,-1)]),4),e("div",z,[e("div",P,[t[3]||(t[3]=e("span",{class:"label"},"HEX",-1)),e("span",U,_(v.value),1)]),e("div",j,[t[4]||(t[4]=e("span",{class:"label"},"RGB",-1)),e("span",q,_(x.value),1)])])])])):b("",!0)]),_:1})]),p(S,{name:"fade"},{default:I(()=>[g.value?(f(),h("div",G,[p(y(k),{icon:"mdi:alert",class:"error-icon"}),w(" "+_(g.value),1)])):b("",!0)]),_:1})]))}},K=T(L,[["__scopeId","data-v-09f44a92"]]);export{K as default};
